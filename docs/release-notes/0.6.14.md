# Mindwtr 0.6.14

## Highlights
- Large sync/data-integrity hardening across core + cloud (tombstone handling, deterministic tie-breaks, merged attachment state, settings merge safety, and remote payload validation).
- Mobile workflow improvements for iOS and Android (single-page inbox processing, better quick-add context/project flow, improved date picker placement, and safer daily review/task-edit headers).
- Cloud and release pipeline reliability updates (cloud auth env alias support, MS Store metadata publish flow fix, and iOS submission guard when prior review is still in progress).
- Performance and maintainability upgrades (shared sync helpers, hot-path merge optimization, SQLite FTS retry jitter, selector/render improvements, and expanded test coverage).

## Core Sync & Data
- Merged `/v1/data` writes in cloud sync to prevent overwrite-based data loss.
- Hardened delete-vs-live conflict resolution and invalid tombstone handling.
- Filtered expired purged tombstones before merge.
- Switched device tie-breaks to deterministic non-locale comparison.
- Always applied merged attachment state and preserved local available status.
- Merged settings safely even when sync preferences are empty.
- Preserved merged area ordering and cleaned deleted attachment tombstones independent of parent task deletion.
- Rejected invalid remote payload shapes before merge.

## Mobile
- Reworked inbox processing into a single-page flow with faster navigation.
- Improved quick add and token-entry UX (contexts/tags/projects/areas) including iOS keyboard behavior.
- Fixed iOS project area/tag management and expanded area manager capabilities (rename/color flows).
- Fixed date/time picker placement and improved safe-area behavior in daily review and global search.
- Increased key top-bar and task-edit touch targets.
- Added additional offline network error detection and checklist debounce safety.

## Desktop / Cloud / CI
- Added desktop offline pre-check for remote sync.
- Added cloud auth token env alias support and aligned docs.
- Fixed MS Store release flow to publish the existing draft submission with metadata.
- Added iOS release guard to skip review submission if a previous app version is still in review.

## Performance / Refactor / Tests
- Extracted shared sync-service utilities into core.
- Skipped expensive content-diff serialization when revisions already determine conflict outcome.
- Added jitter to FTS lock retries and kept atomic lock acquisition.
- Improved mobile list clipping behavior for large lists.
- Added desktop sync orchestration and section-action coverage; expanded sync regression tests.
- Standardized state-store APIs with `createWithEqualityFn` migration.
